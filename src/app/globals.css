/* src/app/globals.css */

@import 'tailwindcss';

/* Define your custom theme using CSS variables */
@theme {
  /* Custom color palette using your specified colors */
  --color-primary: #3d73c2;
  --color-secondary: #7aa7fb;
  --color-accent: #644000;
  
  /* Extended color system */
  --color-light-100: #f8fafc;
  --color-light-200: #f1f5f9;
  --color-light-300: #e2e8f0;
  --color-dark-100: #64748b;
  --color-dark-200: #475569;
  --color-dark-300: #334155;
  --color-dark-400: #1e293b;
  
  /* Modern font stack */
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'Cascadia Code', monospace;
  
  /* Custom spacing scale */
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  
  /* Custom animation durations */
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  
  /* Custom border radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-3xl: 2rem;
  
  /* Modern shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  
  /* Container queries support */
  --container-xs: 20rem;
  --container-sm: 24rem;
  --container-md: 28rem;
  --container-lg: 32rem;
  --container-xl: 36rem;
}

/* Apply cascade layers for better specificity control */
@layer theme, base, components, utilities;

@layer base {
  /* Modern CSS Reset with better defaults */
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
    border-color: var(--color-dark-200);
  }
  
  html {
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
    -moz-tab-size: 4;
    tab-size: 4;
    font-family: var(--font-sans);
  }
  
  body {
    margin: 0;
    line-height: inherit;
    background-color: white;
    color: var(--color-dark-400);
    font-feature-settings: "cv11", "ss01";
    font-variation-settings: "opsz" 32;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Modern focus styles */
  :focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }
  
  /* Better selection styles */
  ::selection {
    background-color: color-mix(in oklch, var(--color-primary) 20%, transparent);
    color: inherit;
  }
  
  /* Smooth scrolling */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }
  
  /* Typography improvements */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.025em;
  }
  
  /* Modern button defaults */
  button, [type="button"], [type="reset"], [type="submit"] {
    cursor: pointer;
    touch-action: manipulation;
  }
}

@layer components {
  /* Custom component classes */
  .quiz-card {
    @apply bg-white rounded-3xl p-6 md:p-8 shadow-xl border border-gray-200;
    backdrop-filter: blur(10px);
  }
  
  .option-button {
    @apply w-full p-4 md:p-6 rounded-2xl text-left transition-all duration-300;
    @apply border-2 border-gray-200 bg-white hover:border-primary hover:bg-primary/5;
    @apply active:scale-[0.98] focus:outline-none focus:ring-2 focus:ring-primary/50;
  }
  
  .primary-gradient {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
  }
  
  .accent-gradient {
    background: linear-gradient(135deg, var(--color-accent) 0%, color-mix(in oklch, var(--color-accent), black 30%) 100%);
  }
  
  .glass-effect {
    @apply backdrop-blur-md bg-white/70 border border-white/20;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
  }
  
  /* Responsive container queries */
  .quiz-container {
    container-type: inline-size;
  }
  
  @container (min-width: 640px) {
    .option-button {
      padding: theme('spacing.6');
    }
  }
}

@layer utilities {
  /* Custom utility classes */
  .animate-fade-in {
    animation: fadeIn var(--duration-normal) ease-out;
  }
  
  .animate-slide-up {
    animation: slideUp var(--duration-normal) ease-out;
  }
  
  .animate-bounce-subtle {
    animation: bounceSubtle var(--duration-slow) ease-in-out infinite;
  }
  
  .animate-pulse-subtle {
    animation: pulseSubtle 2s ease-in-out infinite;
  }
  
  .text-balance {
    text-wrap: balance;
  }
  
  .text-pretty {
    text-wrap: pretty;
  }
  
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: var(--color-dark-200);
    border-radius: 3px;
  }
  
  /* Modern gradient utilities */
  .bg-grid-pattern {
    background-image: linear-gradient(to right, var(--color-light-300) 1px, transparent 1px),
                      linear-gradient(to bottom, var(--color-light-300) 1px, transparent 1px);
    background-size: 24px 24px;
  }
  
  /* 3D transform utilities */
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .transform-3d {
    transform-style: preserve-3d;
  }
  
  /* Logical property utilities */
  .start-0 {
    inset-inline-start: 0;
  }
  
  .end-0 {
    inset-inline-end: 0;
  }
  
  /* Container query utilities */
  .container-query {
    container-type: inline-size;
  }
  
  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    .dark\:quiz-card {
      @apply bg-gray-900 border-gray-800;
    }
    
    .dark\:option-button {
      @apply bg-gray-800 border-gray-700 hover:border-primary hover:bg-primary/10;
    }
  }
}

/* Custom animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounceSubtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes pulseSubtle {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print\:break-inside-avoid {
    break-inside: avoid;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}